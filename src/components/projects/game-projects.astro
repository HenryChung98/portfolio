---
import ProjectContainer from "./project-container.astro";

const iconModules = import.meta.glob<{ default: ImageMetadata }>('../../assets/icons/**/*.webp', { eager: true });
const bannerModules = import.meta.glob<{ default: ImageMetadata }>('../../assets/project-banners/game/**/*.webp', { eager: true });

const getIconPath = (path: string) => {
  const fullPath = `../../assets/icons/${path}`;
  return iconModules[fullPath]?.default?.src || '';
};

const getBannerPath = (path: string) => {
  const fullPath = `../../assets/project-banners/game/${path}`;
  return bannerModules[fullPath]?.default?.src || '';
};
---


<ProjectContainer
  imgPath={getBannerPath("poker-banner.webp")}
  imgAlt="Poker game prototype with AI opponents for Software Engineering course team project"
  title="Texas Hold'em Poker Prototype (Role: Lead Engineer)"
  skillIcons={[getIconPath("other/unity-game-engine-icon.webp"), getIconPath("language/csharp-icon.webp")]}
  skillIconAlts={["Unity Engine", "C#"]}
  subTitle="Poker game prototype with AI opponents for Software Engineering course team project"
  desc={[
    "Led 4-person Agile team, set coding standards and Git workflow to minimize conflicts",
    "Built core game systems for turn validation, betting, and deck management",
    "Designed interactive UI with animations and audio for enhanced engagement",
  ]}
  sourceCodeLink="https://github.com/HenryChung98/CMPT2276-POKER2"
  moveLink="https://9henrychung8.itch.io/prototype-texas-holdem-poker"
  accessMethod="playNow"
  team
/>

<ProjectContainer
  imgPath={getBannerPath("game-jam-banner.webp")}
  imgAlt="Themed Bubble at the Vancouver Global Game Jam, featuring ability acquisition through interacting with speech bubbles"
  title="Speech Bubble Game (Role: Programmer)"
  skillIcons={[getIconPath("other/unity-game-engine-icon.webp"), getIconPath("language/csharp-icon.webp")]}
  skillIconAlts={["Unity Engine", "C#"]}
  subTitle="Themed Bubble at the Vancouver Global Game Jam, featuring ability acquisition through interacting with speech bubbles"
  desc={[
    "Implemented character movement and collision handling",
    "Implemented actions that vary based on the acquired ability",
  ]}
  sourceCodeLink="https://github.com/mugwhump/GGJ2025-Paperless"
  team
/>

<ProjectContainer
  imgPath={getBannerPath("vr-game-banner.webp")}
  imgAlt="VR shooter playable on Meta Quest Link"
  title="VR Shooter Game"
  skillIcons={[getIconPath("other/unreal-engine-icon.webp")]}
  skillIconAlts={["Unreal Engine"]}
  subTitle="VR shooter playable on Meta Quest Link"
  desc={[
    "Created intense shooting action with responsive controls using Niagara", 
    "Implemented dynamic hand animations", 
    "Implemented recall functionality for grabbable objects"
  ]}
/>

<ProjectContainer
  imgPath={getBannerPath("infinite-scroll-banner.webp")}
  imgAlt="Screen-spinning twists and obstacle dodging, featuring challenging obstacles with increasing difficulty"
  title="Infinite Scroll Game"
  skillIcons={[getIconPath("other/unity-game-engine-icon.webp"), getIconPath("language/csharp-icon.webp")]}
  skillIconAlts={["Unity Engine", "C#"]}
  subTitle="Screen-spinning twists and obstacle dodging, featuring challenging obstacles with increasing difficulty"
  desc={[
    "Organized obstacles and score objects into distinct classes for proper collision handling",
    "Implemented context-based animation system",
    "Added dynamic screen-spinning and rotation mechanics",
  ]}
  sourceCodeLink="https://github.com/HenryChung98/RotationRush"
  moveLink="https://9henrychung8.itch.io/rotation-rush"
  accessMethod="playNow"
/>

<ProjectContainer
  imgPath={getBannerPath("mouse-accuracy-banner.webp")}
  imgAlt="Focused on precision shooting and reaction time, a real-time interactive game built with SDL2"
  title="Mouse Accuracy Training"
  skillIcons={[getIconPath("language/cpp-icon.webp")]}
  skillIconAlts={["C++"]}
  subTitle="Focused on precision shooting and reaction time, a real-time interactive game built with SDL2"
  desc={[ 
    "Built state-based gameplay with multiple modes, scoring, and dynamic visuals",
    "Integrated audio and text rendering",
  ]}
  sourceCodeLink="https://github.com/HenryChung98/mouse-accuracy-training"
/>

<ProjectContainer
  imgPath={getBannerPath("liar-game-banner.webp")}
  title="Liar Game"
  imgAlt="Liar game application developed by JavaScript"
  skillIcons={[
    getIconPath("language/javascript-icon.webp"),
  ]}
  skillIconAlts={[
    "JavaScript",
  ]}
  subTitle="Liar game application developed by JavaScript"
  desc={[
    "Designed a state-based game flow including setup, role reveal, and timed discussions",
    "Built a mobile-friendly role reveal flow ensuring fair gameplay",
  ]}
  sourceCodeLink="https://github.com/HenryChung98/liar-game"
  moveLink="https://henrychung98.github.io/liar-game/"
  accessMethod="playNow"
/>
